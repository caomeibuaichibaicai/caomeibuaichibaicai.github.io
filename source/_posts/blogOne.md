---
title: Jsæµ®ç‚¹æ•°
date: 2017-03-26 11:23:04
categories: JsåŸºç¡€
tags: æµ®ç‚¹æ•°
---
## Jsæµ®ç‚¹æ•°å°è®¡
1. æµ®ç‚¹æ•°å‡ºç°çš„**åŸå› **
jsåœ¨è¿›è¡Œè®¡ç®—æ—¶ï¼Œéœ€è¦å°†æ•°å­—å…ˆè½¬åŒ–ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åè¿›è¡ŒåŠ å‡ä¹˜é™¤çš„è®¡ç®—ï¼Œå¾—åˆ°çš„ç»“æœä»ç„¶æ˜¯äºŒè¿›åˆ¶ï¼Œæœ€åå†è½¬åŒ–ä¸ºåè¿›åˆ¶ï¼Œä»è€Œå¾—åˆ°ç»“æœï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å°±äº§ç”Ÿäº† ==æµ®ç‚¹æ•°==ï¼Œåœ¨å°æ•°ä½äº§ç”Ÿäº†è¯¯å·®ã€‚
2. jsçš„è®¡ç®— **ç²¾åº¦å‡†ç¡®** çš„æœ€å¤§å€¼æ˜¯2^53^-1
æœ€å°å€¼ä¸ºå…¶å¯¹åº”çš„**è´Ÿæ•°**-2^53^-1
è‹¥å¤§äºè¿™ä¸ªå€¼å°±ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±çš„æƒ…å†µï¼Œåœ¨2^53^è‡³2^54^çš„èŒƒå›´å†…ï¼Œåªèƒ½è®¡ç®—å‡º==å¶æ•°==ï¼›åœ¨2^54^è‡³2^55^çš„èŒƒå›´å†…ï¼Œåªèƒ½å››ä¸ªæ•°é€‰ä¸€ä¸ªï¼Œå³==å››çš„å€æ•°==ï¼Œåé¢ä»¥æ­¤ç±»æ¨ï¼Œç²¾åº¦è¶Šæ¥è¶Šå°
3. jsèƒ½ **è¡¨ç¤ºçš„** æœ€å¤§æ•´æ•°æ˜¯2^1024^-1
ä»2^1024^å¾€åï¼Œåé¢çš„æ•°å­—éƒ½åªèƒ½è¢«è¡¨ç¤ºä¸ºInfinity
4. è§£å†³jsæµ®ç‚¹æ•°ä¸­çš„åŠ å‡ä¹˜é™¤è¿ç®—**è¯¯å·®**é—®é¢˜
- ==å•çº¯å±•ç¤ºæ•°æ®æ–¹æ³•:==
```javascript
function strip(num, precision = 12) {
  return +parseFloat(num.toPrecision(precision));
}
```
å…ˆä½¿ç”¨toPrecisionå¯¹æ•°å­—è¿›è¡Œæµ®ç‚¹æ•°çš„å¤„ç†ï¼Œè¿™ä¸ªå‡½æ•°å¯¹è¶…è¿‡æŒ‡å®šç²¾åº¦çš„éƒ¨åˆ†ï¼Œè¿›è¡Œä¸€ä¸ªå‡‘æ•´å¤„ç†ã€‚(*ç²¾åº¦éƒ¨åˆ†ä»æœ€å·¦è¾¹ç¬¬ä¸€ä¸ªä¸ä¸º0çš„ä½æ•°å¼€å§‹è®¡ç®—*)ï¼Œé€šè¿‡ç»éªŒè®¡ç®—ï¼Œè¿™ä¸ªç²¾åº¦ä¸€èˆ¬ä¼šé€‰æ‹©12ä½ã€‚ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥æ›´é«˜ï¼‰
ä¹‹åä¼šè¿”å›ä¸€ä¸ªStringç±»å‹çš„æ•°å­—å­—ç¬¦ä¸²ï¼Œä½¿ç”¨parseFloatå¯¹å­—ç¬¦ä¸²è¿›è¡Œè½¬åŒ–ä¸ºæ•°å­—ã€‚


- ==æµ®ç‚¹è¿›è¡Œè¿ç®—æ–¹æ³•ï¼š==
è¿™ä¸ªæ—¶å€™çš„æ€è·¯æ˜¯æŠŠå°æ•°è½¬åŒ–ä¸ºæ•´æ•°ï¼Œç„¶ååœ¨è¿›è¡Œè¿ç®—.
ä¹˜*ï¼š
```javascript
const Mul = (num1, num2) => {
  let m = 0
  const s1 = `${num1}`
  const s2 = `${num2}`
  try {
    // m += s1.split('.')[1].length
    m += get(s1.split('.'), '[1].length', 0)
  } catch (e) {
    console.error(e)
  }
  try {
    // m += s2.split('.')[1].length
    m += get(s2.split('.'), '[1].length', 0)
  } catch (e) {
    console.error(e)
  }
  return Number(s1.replace('.', '')) *
    Number(s2.replace('.', '')) /
    Math.pow(10, m)
}
```
é™¤/:
```javascript
// ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸é™¤
const Div = (num1, num2) => {
  let t1
  let t2
  try {
    // t1 = `${num1}`.split('.')[1].length
    t1 = get(`${num1}`.split('.'), '[1].length', 0)
  } catch (e) {
    t1 = 0
  }
  try {
    // t2 = `${num2}`.toString().split('.')[1].length
    t2 = get(`${num2}`.toString().split('.'), '[1].length', 0)
  } catch (e) {
    t2 = 0
  }
  const r1 = Number(`${num1}`.replace('.', ''))
  const r2 = Number(`${num2}`.toString().replace('.', ''))
  return (r1 / r2) * Math.pow(10, t2 - t1)
}
```
åŠ +ï¼š
```javascript
// ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸åŠ 
const Add = (num1, num2) => {
  let r1
  let r2
  try {
    r1 = `${num1}`.split('.')[1].length
  } catch (e) {
    r1 = 0
  }
  try {
    r2 = `${num2}`.split('.')[1].length
  } catch (e) {
    r2 = 0
  }
  const m = Math.pow(10, Math.max(r1, r2))
  return Math.round(num1 * m + num2 * m) / m
}
```
å‡-ï¼š
```javascript
// ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸å‡
const Sub = (num1, num2) => {
  let r1
  let r2
  try {
    r1 = `${num1}`.split('.')[1].length
  } catch (e) {
    r1 = 0
  }
  try {
    r2 = `${num2}`.split('.')[1].length
  } catch (e) {
    r2 = 0
  }
  const m = Math.pow(10, Math.max(r1, r2))
  const n = (r1 >= r2) ? r1 : r2
  return toFixed((Math.round(num1 * m - num2 * m) / m), n)
}
```

å¦‚æœè§‰å¾—å¾ˆéº»çƒ¦çš„è¯ï¼Œå½“ç„¶ä¹Ÿæœ‰ç°æˆçš„æ’ä»¶æ¥ç”¨å•Š~~~
æ¯”å¦‚ï¼š[number-precision](https://github.com/nefe/number-precision)ï¼Œè¿™ä¸ªåº“çš„ä¼˜ç‚¹åœ¨äºä½“ç§¯å°ï¼Œåªæœ‰ä¸åˆ°1Kçš„å¤§å°ã€‚
è¿˜æœ‰æˆ‘ä»¬ç†ŸçŸ¥çš„[math.js](https://mathjs.org/download.html),é‡Œé¢çš„æ–¹æ³•è¾ƒå…¨ï¼Œä»£ç å¯ç»´æŠ¤æ€§ä¹Ÿè¾ƒé«˜ã€‚
*************************************

ä»Šå¤©å¯¹æµ®ç‚¹æ•°çš„å°è®¡å·®ä¸å¤šå°±åˆ°è¿™é‡Œå•¦ğŸ’—
